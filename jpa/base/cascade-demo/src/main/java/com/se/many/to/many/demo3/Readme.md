
#Кэш первого и второго уровня в Hibernate


## Кэш первого уровня – Session (либо EntityManager)

 Hibernate хранит отслеживаемые сущности в Map, ключами которой являются id сущностей, а значениями
  – сами объекты-сущности. Если мы извлекаем из базы сущность по id с помощью EntityManager.find(), 
  то сущность помещается в этот Map и хранится в нем до закрытия сессии.
  
  FirstLevelCacheTest
  
  Кэш второго уровня – общий кэш всех сессий SessionFactory
  Если сессия обычно (у нас точно) привязана к транзакции и закрывается каждый раз по ее окончании, то SessionFactory создается один раз на все приложение. Этот кэш и считается кэшем второго уровня, но по умолчанию он не работает – его надо включать.
  
  Кэш второго уровня – это прослойка, общая для всех сессий.
  
  https://sysout.ru/kesh-pervogo-i-vtorogo-urovnya-v-hibernate-i-read_only-cacheconcurrencystrategy/#comment-4758